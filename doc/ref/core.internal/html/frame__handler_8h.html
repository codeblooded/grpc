<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GRPC Core: src/core/tsi/alts/frame_protector/frame_handler.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GRPC Core
   &#160;<span id="projectnumber">12.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_aebb8dcc11953d78e620bbef0b9e2183.html">core</a></li><li class="navelem"><a class="el" href="dir_99f60d2bb6231896bcd2887028065f74.html">tsi</a></li><li class="navelem"><a class="el" href="dir_4d2f87c9b5d40e0b1bb096b914a12d23.html">alts</a></li><li class="navelem"><a class="el" href="dir_b45183a3d4f25b78e476b6a0663a5381.html">frame_protector</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">frame_handler.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="support_2port__platform_8h_source.html">grpc/support/port_platform.h</a>&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
</div>
<p><a href="frame__handler_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structalts__frame__writer.html">alts_frame_writer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of frame reader and frame writer.  <a href="structalts__frame__writer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structalts__frame__reader.html">alts_frame_reader</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main struct for a frame reader.  <a href="structalts__frame__reader.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a2430bcc5b800e5619603ae54f61535d4"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structalts__frame__writer.html">alts_frame_writer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__handler_8h.html#a2430bcc5b800e5619603ae54f61535d4">alts_frame_writer</a></td></tr>
<tr class="memdesc:a2430bcc5b800e5619603ae54f61535d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of frame reader and frame writer.  <a href="frame__handler_8h.html#a2430bcc5b800e5619603ae54f61535d4">More...</a><br /></td></tr>
<tr class="separator:a2430bcc5b800e5619603ae54f61535d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adca641f6e2bdbc96645fd8e82aa4a0a7"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structalts__frame__reader.html">alts_frame_reader</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__handler_8h.html#adca641f6e2bdbc96645fd8e82aa4a0a7">alts_frame_reader</a></td></tr>
<tr class="memdesc:adca641f6e2bdbc96645fd8e82aa4a0a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main struct for a frame reader.  <a href="frame__handler_8h.html#adca641f6e2bdbc96645fd8e82aa4a0a7">More...</a><br /></td></tr>
<tr class="separator:adca641f6e2bdbc96645fd8e82aa4a0a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aece75830675d33758fc794e1af86302d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structalts__frame__writer.html">alts_frame_writer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__handler_8h.html#aece75830675d33758fc794e1af86302d">alts_create_frame_writer</a> ()</td></tr>
<tr class="memdesc:aece75830675d33758fc794e1af86302d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method creates a frame writer instance and initializes its internal states.  <a href="frame__handler_8h.html#aece75830675d33758fc794e1af86302d">More...</a><br /></td></tr>
<tr class="separator:aece75830675d33758fc794e1af86302d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1067efa423a5b3e6c62339721bb45957"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__handler_8h.html#a1067efa423a5b3e6c62339721bb45957">alts_reset_frame_writer</a> (<a class="el" href="structalts__frame__writer.html">alts_frame_writer</a> *writer, const unsigned char *buffer, size_t length)</td></tr>
<tr class="memdesc:a1067efa423a5b3e6c62339721bb45957"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method resets internal states of a frame writer and prepares to write a single frame.  <a href="frame__handler_8h.html#a1067efa423a5b3e6c62339721bb45957">More...</a><br /></td></tr>
<tr class="separator:a1067efa423a5b3e6c62339721bb45957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e6ede2718d07bce16d1848a9a9f9a16"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__handler_8h.html#a3e6ede2718d07bce16d1848a9a9f9a16">alts_write_frame_bytes</a> (<a class="el" href="structalts__frame__writer.html">alts_frame_writer</a> *writer, unsigned char *output, size_t *bytes_size)</td></tr>
<tr class="memdesc:a3e6ede2718d07bce16d1848a9a9f9a16"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method writes up to bytes_size bytes of a frame to output.  <a href="frame__handler_8h.html#a3e6ede2718d07bce16d1848a9a9f9a16">More...</a><br /></td></tr>
<tr class="separator:a3e6ede2718d07bce16d1848a9a9f9a16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1c0121bf1c1ad369548bf58d11ec248"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__handler_8h.html#ad1c0121bf1c1ad369548bf58d11ec248">alts_is_frame_writer_done</a> (<a class="el" href="structalts__frame__writer.html">alts_frame_writer</a> *writer)</td></tr>
<tr class="memdesc:ad1c0121bf1c1ad369548bf58d11ec248"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method checks if a reset can be called to write a new frame.  <a href="frame__handler_8h.html#ad1c0121bf1c1ad369548bf58d11ec248">More...</a><br /></td></tr>
<tr class="separator:ad1c0121bf1c1ad369548bf58d11ec248"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5368f902a04ab4238d5c032cb745538"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__handler_8h.html#af5368f902a04ab4238d5c032cb745538">alts_get_num_writer_bytes_remaining</a> (<a class="el" href="structalts__frame__writer.html">alts_frame_writer</a> *writer)</td></tr>
<tr class="memdesc:af5368f902a04ab4238d5c032cb745538"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns the number of bytes left to write before a complete frame is formed.  <a href="frame__handler_8h.html#af5368f902a04ab4238d5c032cb745538">More...</a><br /></td></tr>
<tr class="separator:af5368f902a04ab4238d5c032cb745538"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac96626f6a6edbfe4519489ac92709e4c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__handler_8h.html#ac96626f6a6edbfe4519489ac92709e4c">alts_destroy_frame_writer</a> (<a class="el" href="structalts__frame__writer.html">alts_frame_writer</a> *writer)</td></tr>
<tr class="memdesc:ac96626f6a6edbfe4519489ac92709e4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method destroys a frame writer instance.  <a href="frame__handler_8h.html#ac96626f6a6edbfe4519489ac92709e4c">More...</a><br /></td></tr>
<tr class="separator:ac96626f6a6edbfe4519489ac92709e4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a113cbe7875841d448df5c29b145aac76"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structalts__frame__reader.html">alts_frame_reader</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__handler_8h.html#a113cbe7875841d448df5c29b145aac76">alts_create_frame_reader</a> ()</td></tr>
<tr class="memdesc:a113cbe7875841d448df5c29b145aac76"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method creates a frame reader instance and initializes its internal states.  <a href="frame__handler_8h.html#a113cbe7875841d448df5c29b145aac76">More...</a><br /></td></tr>
<tr class="separator:a113cbe7875841d448df5c29b145aac76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a704ea233b466bcad6d5d8ad172431c6d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__handler_8h.html#a704ea233b466bcad6d5d8ad172431c6d">alts_reset_frame_reader</a> (<a class="el" href="structalts__frame__reader.html">alts_frame_reader</a> *reader, unsigned char *buffer)</td></tr>
<tr class="memdesc:a704ea233b466bcad6d5d8ad172431c6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method resets internal states of a frame reader (including setting its output_buffer with buffer), and prepares to write processed bytes to an output_buffer.  <a href="frame__handler_8h.html#a704ea233b466bcad6d5d8ad172431c6d">More...</a><br /></td></tr>
<tr class="separator:a704ea233b466bcad6d5d8ad172431c6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26d9a217155e025c6e8949a4d63cb469"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__handler_8h.html#a26d9a217155e025c6e8949a4d63cb469">alts_read_frame_bytes</a> (<a class="el" href="structalts__frame__reader.html">alts_frame_reader</a> *reader, const unsigned char *bytes, size_t *bytes_size)</td></tr>
<tr class="memdesc:a26d9a217155e025c6e8949a4d63cb469"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method processes up to the number of bytes given in bytes_size.  <a href="frame__handler_8h.html#a26d9a217155e025c6e8949a4d63cb469">More...</a><br /></td></tr>
<tr class="separator:a26d9a217155e025c6e8949a4d63cb469"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a916ef7297e7cc658dfd1e37f82af3a75"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__handler_8h.html#a916ef7297e7cc658dfd1e37f82af3a75">alts_has_read_frame_length</a> (<a class="el" href="structalts__frame__reader.html">alts_frame_reader</a> *reader)</td></tr>
<tr class="memdesc:a916ef7297e7cc658dfd1e37f82af3a75"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method checks if a frame length has been read.  <a href="frame__handler_8h.html#a916ef7297e7cc658dfd1e37f82af3a75">More...</a><br /></td></tr>
<tr class="separator:a916ef7297e7cc658dfd1e37f82af3a75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7321af324ab560d687e4acbaaaef2135"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__handler_8h.html#a7321af324ab560d687e4acbaaaef2135">alts_get_reader_bytes_remaining</a> (<a class="el" href="structalts__frame__reader.html">alts_frame_reader</a> *reader)</td></tr>
<tr class="memdesc:a7321af324ab560d687e4acbaaaef2135"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns the number of bytes the frame reader intends to write.  <a href="frame__handler_8h.html#a7321af324ab560d687e4acbaaaef2135">More...</a><br /></td></tr>
<tr class="separator:a7321af324ab560d687e4acbaaaef2135"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a559ea59a9b8bc2a78ca3cf8e5a88cb9e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__handler_8h.html#a559ea59a9b8bc2a78ca3cf8e5a88cb9e">alts_reset_reader_output_buffer</a> (<a class="el" href="structalts__frame__reader.html">alts_frame_reader</a> *reader, unsigned char *buffer)</td></tr>
<tr class="memdesc:a559ea59a9b8bc2a78ca3cf8e5a88cb9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method resets output_buffer but does not otherwise modify other internal states of a frame reader instance.  <a href="frame__handler_8h.html#a559ea59a9b8bc2a78ca3cf8e5a88cb9e">More...</a><br /></td></tr>
<tr class="separator:a559ea59a9b8bc2a78ca3cf8e5a88cb9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6df7e6fa92c08ba3358c13ff8fdf0909"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__handler_8h.html#a6df7e6fa92c08ba3358c13ff8fdf0909">alts_is_frame_reader_done</a> (<a class="el" href="structalts__frame__reader.html">alts_frame_reader</a> *reader)</td></tr>
<tr class="memdesc:a6df7e6fa92c08ba3358c13ff8fdf0909"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method checks if reset can be called to start processing a new frame.  <a href="frame__handler_8h.html#a6df7e6fa92c08ba3358c13ff8fdf0909">More...</a><br /></td></tr>
<tr class="separator:a6df7e6fa92c08ba3358c13ff8fdf0909"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95134c9f81665e2b8eb21a36e816812c"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__handler_8h.html#a95134c9f81665e2b8eb21a36e816812c">alts_get_output_bytes_read</a> (<a class="el" href="structalts__frame__reader.html">alts_frame_reader</a> *reader)</td></tr>
<tr class="memdesc:a95134c9f81665e2b8eb21a36e816812c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns output_bytes_read of a frame reader instance.  <a href="frame__handler_8h.html#a95134c9f81665e2b8eb21a36e816812c">More...</a><br /></td></tr>
<tr class="separator:a95134c9f81665e2b8eb21a36e816812c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade6718cd0baf3da33e2956255950f57f"><td class="memItemLeft" align="right" valign="top">unsigned char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__handler_8h.html#ade6718cd0baf3da33e2956255950f57f">alts_get_output_buffer</a> (<a class="el" href="structalts__frame__reader.html">alts_frame_reader</a> *reader)</td></tr>
<tr class="memdesc:ade6718cd0baf3da33e2956255950f57f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method returns output_buffer of a frame reader instance.  <a href="frame__handler_8h.html#ade6718cd0baf3da33e2956255950f57f">More...</a><br /></td></tr>
<tr class="separator:ade6718cd0baf3da33e2956255950f57f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe48afe701a41d57d5809ba527814aa8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__handler_8h.html#abe48afe701a41d57d5809ba527814aa8">alts_destroy_frame_reader</a> (<a class="el" href="structalts__frame__reader.html">alts_frame_reader</a> *reader)</td></tr>
<tr class="memdesc:abe48afe701a41d57d5809ba527814aa8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method destroys a frame reader instance.  <a href="frame__handler_8h.html#abe48afe701a41d57d5809ba527814aa8">More...</a><br /></td></tr>
<tr class="separator:abe48afe701a41d57d5809ba527814aa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a77dd636ec3c210b500e927f043d21b12"><td class="memItemLeft" align="right" valign="top">const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__handler_8h.html#a77dd636ec3c210b500e927f043d21b12">kFrameMessageType</a> = 0x06</td></tr>
<tr class="separator:a77dd636ec3c210b500e927f043d21b12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51986d2fbdd30fdc11bc20d4f4e704e1"><td class="memItemLeft" align="right" valign="top">const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__handler_8h.html#a51986d2fbdd30fdc11bc20d4f4e704e1">kFrameLengthFieldSize</a> = 4</td></tr>
<tr class="separator:a51986d2fbdd30fdc11bc20d4f4e704e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa35d6ead4851f7ce606917050c6f1765"><td class="memItemLeft" align="right" valign="top">const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__handler_8h.html#aa35d6ead4851f7ce606917050c6f1765">kFrameMessageTypeFieldSize</a> = 4</td></tr>
<tr class="separator:aa35d6ead4851f7ce606917050c6f1765"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82f7f7248cd4932ae8c9cdc6591138bb"><td class="memItemLeft" align="right" valign="top">const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__handler_8h.html#a82f7f7248cd4932ae8c9cdc6591138bb">kFrameMaxSize</a> = 1024 * 1024</td></tr>
<tr class="separator:a82f7f7248cd4932ae8c9cdc6591138bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b7f45233a2de33ccc91ef157768337d"><td class="memItemLeft" align="right" valign="top">const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="frame__handler_8h.html#a6b7f45233a2de33ccc91ef157768337d">kFrameHeaderSize</a></td></tr>
<tr class="separator:a6b7f45233a2de33ccc91ef157768337d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="adca641f6e2bdbc96645fd8e82aa4a0a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adca641f6e2bdbc96645fd8e82aa4a0a7">&#9670;&nbsp;</a></span>alts_frame_reader</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structalts__frame__reader.html">alts_frame_reader</a> <a class="el" href="structalts__frame__reader.html">alts_frame_reader</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main struct for a frame reader. </p>
<p>It reads raw bytes and puts the framed result into an output buffer. It does not own the output buffer. </p>

</div>
</div>
<a id="a2430bcc5b800e5619603ae54f61535d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2430bcc5b800e5619603ae54f61535d4">&#9670;&nbsp;</a></span>alts_frame_writer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structalts__frame__writer.html">alts_frame_writer</a> <a class="el" href="structalts__frame__writer.html">alts_frame_writer</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implementation of frame reader and frame writer. </p>
<p>All APIs in the header are thread-compatible. Main struct for a frame writer. It reads frames from an input buffer, and writes the contents as raw bytes. It does not own the input buffer. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a113cbe7875841d448df5c29b145aac76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a113cbe7875841d448df5c29b145aac76">&#9670;&nbsp;</a></span>alts_create_frame_reader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structalts__frame__reader.html">alts_frame_reader</a>* alts_create_frame_reader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method creates a frame reader instance and initializes its internal states. </p>

</div>
</div>
<a id="aece75830675d33758fc794e1af86302d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aece75830675d33758fc794e1af86302d">&#9670;&nbsp;</a></span>alts_create_frame_writer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structalts__frame__writer.html">alts_frame_writer</a>* alts_create_frame_writer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method creates a frame writer instance and initializes its internal states. </p>

</div>
</div>
<a id="abe48afe701a41d57d5809ba527814aa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe48afe701a41d57d5809ba527814aa8">&#9670;&nbsp;</a></span>alts_destroy_frame_reader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void alts_destroy_frame_reader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structalts__frame__reader.html">alts_frame_reader</a> *&#160;</td>
          <td class="paramname"><em>reader</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method destroys a frame reader instance. </p>
<ul>
<li>reader: a frame reader instance. </li>
</ul>

</div>
</div>
<a id="ac96626f6a6edbfe4519489ac92709e4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac96626f6a6edbfe4519489ac92709e4c">&#9670;&nbsp;</a></span>alts_destroy_frame_writer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void alts_destroy_frame_writer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structalts__frame__writer.html">alts_frame_writer</a> *&#160;</td>
          <td class="paramname"><em>writer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method destroys a frame writer instance. </p>
<ul>
<li>writer: a frame writer instance. </li>
</ul>

</div>
</div>
<a id="af5368f902a04ab4238d5c032cb745538"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5368f902a04ab4238d5c032cb745538">&#9670;&nbsp;</a></span>alts_get_num_writer_bytes_remaining()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t alts_get_num_writer_bytes_remaining </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structalts__frame__writer.html">alts_frame_writer</a> *&#160;</td>
          <td class="paramname"><em>writer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method returns the number of bytes left to write before a complete frame is formed. </p>
<ul>
<li>writer: a frame writer instance. </li>
</ul>

</div>
</div>
<a id="ade6718cd0baf3da33e2956255950f57f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade6718cd0baf3da33e2956255950f57f">&#9670;&nbsp;</a></span>alts_get_output_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char* alts_get_output_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structalts__frame__reader.html">alts_frame_reader</a> *&#160;</td>
          <td class="paramname"><em>reader</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method returns output_buffer of a frame reader instance. </p>
<ul>
<li>reader: a frame reader instance. </li>
</ul>

</div>
</div>
<a id="a95134c9f81665e2b8eb21a36e816812c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95134c9f81665e2b8eb21a36e816812c">&#9670;&nbsp;</a></span>alts_get_output_bytes_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t alts_get_output_bytes_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structalts__frame__reader.html">alts_frame_reader</a> *&#160;</td>
          <td class="paramname"><em>reader</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method returns output_bytes_read of a frame reader instance. </p>
<ul>
<li>reader: a frame reader instance. </li>
</ul>

</div>
</div>
<a id="a7321af324ab560d687e4acbaaaef2135"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7321af324ab560d687e4acbaaaef2135">&#9670;&nbsp;</a></span>alts_get_reader_bytes_remaining()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t alts_get_reader_bytes_remaining </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structalts__frame__reader.html">alts_frame_reader</a> *&#160;</td>
          <td class="paramname"><em>reader</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method returns the number of bytes the frame reader intends to write. </p>
<p>It may only be called if <a class="el" href="frame__handler_8h.html#a916ef7297e7cc658dfd1e37f82af3a75" title="This method checks if a frame length has been read.">alts_has_read_frame_length()</a> returns true.</p>
<ul>
<li>reader: a frame reader instance. </li>
</ul>

</div>
</div>
<a id="a916ef7297e7cc658dfd1e37f82af3a75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a916ef7297e7cc658dfd1e37f82af3a75">&#9670;&nbsp;</a></span>alts_has_read_frame_length()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool alts_has_read_frame_length </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structalts__frame__reader.html">alts_frame_reader</a> *&#160;</td>
          <td class="paramname"><em>reader</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method checks if a frame length has been read. </p>
<ul>
<li>reader: a frame reader instance.</li>
</ul>
<p>The method returns true if a frame length has been read and false otherwise. </p>

</div>
</div>
<a id="a6df7e6fa92c08ba3358c13ff8fdf0909"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6df7e6fa92c08ba3358c13ff8fdf0909">&#9670;&nbsp;</a></span>alts_is_frame_reader_done()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool alts_is_frame_reader_done </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structalts__frame__reader.html">alts_frame_reader</a> *&#160;</td>
          <td class="paramname"><em>reader</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method checks if reset can be called to start processing a new frame. </p>
<p>If true and reset was previously called, a full frame has been processed and the content of the frame is available in output_buffer.</p>
<ul>
<li>reader: a frame reader instance. </li>
</ul>

</div>
</div>
<a id="ad1c0121bf1c1ad369548bf58d11ec248"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1c0121bf1c1ad369548bf58d11ec248">&#9670;&nbsp;</a></span>alts_is_frame_writer_done()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool alts_is_frame_writer_done </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structalts__frame__writer.html">alts_frame_writer</a> *&#160;</td>
          <td class="paramname"><em>writer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method checks if a reset can be called to write a new frame. </p>
<p>It returns true if it's the first time to frame a payload, or the current frame has been finished processing. It returns false if it's not ready yet to start a new frame (e.g., more payload data needs to be accumulated to process the current frame).</p>
<p>if (alts_is_frame_writer_done(writer)) { // a new frame can be written, call reset. alts_reset_frame_writer(writer, payload_buffer, payload_size); } else { // accumulate more payload data until a full frame can be written. }</p>
<ul>
<li>writer: a frame writer instance. </li>
</ul>

</div>
</div>
<a id="a26d9a217155e025c6e8949a4d63cb469"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26d9a217155e025c6e8949a4d63cb469">&#9670;&nbsp;</a></span>alts_read_frame_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool alts_read_frame_bytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structalts__frame__reader.html">alts_frame_reader</a> *&#160;</td>
          <td class="paramname"><em>reader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>bytes_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method processes up to the number of bytes given in bytes_size. </p>
<p>It may choose not to process all the bytes, if, for instance, more bytes are given to the method than required to complete the current frame.</p>
<ul>
<li>reader: a frame reader instance.</li>
<li>bytes: a buffer that stores data to be processed.</li>
<li>bytes_size: an in/out parameter that stores the size of bytes before the call and gets written the number of bytes processed.</li>
</ul>
<p>The method returns true on success and false otherwise. </p>

</div>
</div>
<a id="a704ea233b466bcad6d5d8ad172431c6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a704ea233b466bcad6d5d8ad172431c6d">&#9670;&nbsp;</a></span>alts_reset_frame_reader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool alts_reset_frame_reader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structalts__frame__reader.html">alts_frame_reader</a> *&#160;</td>
          <td class="paramname"><em>reader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method resets internal states of a frame reader (including setting its output_buffer with buffer), and prepares to write processed bytes to an output_buffer. </p>
<p>It does not take ownership of buffer. The buffer must outlive reader.</p>
<ul>
<li>reader: a frame reader instance.</li>
<li>buffer: an output buffer used to store deframed results.</li>
</ul>
<p>The method returns true on success and false otherwise. </p>

</div>
</div>
<a id="a1067efa423a5b3e6c62339721bb45957"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1067efa423a5b3e6c62339721bb45957">&#9670;&nbsp;</a></span>alts_reset_frame_writer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool alts_reset_frame_writer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structalts__frame__writer.html">alts_frame_writer</a> *&#160;</td>
          <td class="paramname"><em>writer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method resets internal states of a frame writer and prepares to write a single frame. </p>
<p>It does not take ownership of payload_buffer. The payload_buffer must outlive the writer.</p>
<ul>
<li>writer: a frame writer instance.</li>
<li>buffer: a buffer storing full payload data to be framed.</li>
<li>length: size of payload data.</li>
</ul>
<p>The method returns true on success and false otherwise. </p>

</div>
</div>
<a id="a559ea59a9b8bc2a78ca3cf8e5a88cb9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a559ea59a9b8bc2a78ca3cf8e5a88cb9e">&#9670;&nbsp;</a></span>alts_reset_reader_output_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void alts_reset_reader_output_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structalts__frame__reader.html">alts_frame_reader</a> *&#160;</td>
          <td class="paramname"><em>reader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method resets output_buffer but does not otherwise modify other internal states of a frame reader instance. </p>
<p>After being set, the new output_buffer will hold the deframed payload held by the original output_buffer. It does not take ownership of buffer. The buffer must outlive the reader. To distinguish between two reset methods on a frame reader,</p>
<p>if (alts_fh_is_frame_reader_done(reader)) { // if buffer contains a full payload to be deframed, call reset. alts_reset_frame_reader(reader, buffer); }</p>
<p>// if remaining buffer space is not enough to hold a full payload if (buffer_space_remaining &lt; alts_get_reader_bytes_remaining(reader)) { // allocate enough space for a new buffer, copy back data processed so far, // and call reset. alts_reset_reader_output_buffer(reader, new_buffer). }</p>
<ul>
<li>reader: a frame reader instance.</li>
<li>buffer: a buffer used to set reader's output_buffer. </li>
</ul>

</div>
</div>
<a id="a3e6ede2718d07bce16d1848a9a9f9a16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e6ede2718d07bce16d1848a9a9f9a16">&#9670;&nbsp;</a></span>alts_write_frame_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool alts_write_frame_bytes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structalts__frame__writer.html">alts_frame_writer</a> *&#160;</td>
          <td class="paramname"><em>writer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>bytes_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method writes up to bytes_size bytes of a frame to output. </p>
<ul>
<li>writer: a frame writer instance.</li>
<li>output: an output buffer used to store the frame.</li>
<li>bytes_size: an in/out parameter that stores the size of output buffer before the call, and gets written the number of frame bytes written to the buffer.</li>
</ul>
<p>The method returns true on success and false otherwise. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a6b7f45233a2de33ccc91ef157768337d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b7f45233a2de33ccc91ef157768337d">&#9670;&nbsp;</a></span>kFrameHeaderSize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const size_t kFrameHeaderSize</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">    <a class="code" href="frame__handler_8h.html#a51986d2fbdd30fdc11bc20d4f4e704e1">kFrameLengthFieldSize</a> + <a class="code" href="frame__handler_8h.html#aa35d6ead4851f7ce606917050c6f1765">kFrameMessageTypeFieldSize</a></div>
</div><!-- fragment -->
</div>
</div>
<a id="a51986d2fbdd30fdc11bc20d4f4e704e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51986d2fbdd30fdc11bc20d4f4e704e1">&#9670;&nbsp;</a></span>kFrameLengthFieldSize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const size_t kFrameLengthFieldSize = 4</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a82f7f7248cd4932ae8c9cdc6591138bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82f7f7248cd4932ae8c9cdc6591138bb">&#9670;&nbsp;</a></span>kFrameMaxSize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const size_t kFrameMaxSize = 1024 * 1024</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a77dd636ec3c210b500e927f043d21b12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77dd636ec3c210b500e927f043d21b12">&#9670;&nbsp;</a></span>kFrameMessageType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const size_t kFrameMessageType = 0x06</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa35d6ead4851f7ce606917050c6f1765"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa35d6ead4851f7ce606917050c6f1765">&#9670;&nbsp;</a></span>kFrameMessageTypeFieldSize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const size_t kFrameMessageTypeFieldSize = 4</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="aframe__handler_8h_html_a51986d2fbdd30fdc11bc20d4f4e704e1"><div class="ttname"><a href="frame__handler_8h.html#a51986d2fbdd30fdc11bc20d4f4e704e1">kFrameLengthFieldSize</a></div><div class="ttdeci">const size_t kFrameLengthFieldSize</div><div class="ttdef"><b>Definition:</b> frame_handler.h:28</div></div>
<div class="ttc" id="aframe__handler_8h_html_aa35d6ead4851f7ce606917050c6f1765"><div class="ttname"><a href="frame__handler_8h.html#aa35d6ead4851f7ce606917050c6f1765">kFrameMessageTypeFieldSize</a></div><div class="ttdeci">const size_t kFrameMessageTypeFieldSize</div><div class="ttdef"><b>Definition:</b> frame_handler.h:29</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Oct 14 2020 14:34:16 for GRPC Core by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
