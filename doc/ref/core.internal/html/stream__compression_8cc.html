<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GRPC Core: src/core/lib/compression/stream_compression.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GRPC Core
   &#160;<span id="projectnumber">12.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_aebb8dcc11953d78e620bbef0b9e2183.html">core</a></li><li class="navelem"><a class="el" href="dir_9ace0bdff5d34e41ad08105dc041a781.html">lib</a></li><li class="navelem"><a class="el" href="dir_0be55dae7bca7f50bfed07c36eb565c7.html">compression</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">stream_compression.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="support_2port__platform_8h_source.html">grpc/support/port_platform.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="support_2log_8h_source.html">grpc/support/log.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="stream__compression_8h_source.html">src/core/lib/compression/stream_compression.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="stream__compression__gzip_8h_source.html">src/core/lib/compression/stream_compression_gzip.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="slice__utils_8h_source.html">src/core/lib/slice/slice_utils.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a72b660a8555db9a991f0e941d4e086aa"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream__compression_8cc.html#a72b660a8555db9a991f0e941d4e086aa">grpc_stream_compress</a> (<a class="el" href="structgrpc__stream__compression__context.html">grpc_stream_compression_context</a> *ctx, <a class="el" href="structgrpc__slice__buffer.html">grpc_slice_buffer</a> *in, <a class="el" href="structgrpc__slice__buffer.html">grpc_slice_buffer</a> *out, size_t *output_size, size_t max_output_size, <a class="el" href="stream__compression_8h.html#ad13e1b784100a2008a543736d0cd819f">grpc_stream_compression_flush</a> flush)</td></tr>
<tr class="memdesc:a72b660a8555db9a991f0e941d4e086aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compress bytes provided in <em>in</em> with a given context, with an optional flush at the end of compression.  <a href="stream__compression_8cc.html#a72b660a8555db9a991f0e941d4e086aa">More...</a><br /></td></tr>
<tr class="separator:a72b660a8555db9a991f0e941d4e086aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac68341604d59aecc7b0f6ec0e0c4b517"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream__compression_8cc.html#ac68341604d59aecc7b0f6ec0e0c4b517">grpc_stream_decompress</a> (<a class="el" href="structgrpc__stream__compression__context.html">grpc_stream_compression_context</a> *ctx, <a class="el" href="structgrpc__slice__buffer.html">grpc_slice_buffer</a> *in, <a class="el" href="structgrpc__slice__buffer.html">grpc_slice_buffer</a> *out, size_t *output_size, size_t max_output_size, bool *end_of_context)</td></tr>
<tr class="memdesc:ac68341604d59aecc7b0f6ec0e0c4b517"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decompress bytes provided in <em>in</em> with a given context.  <a href="stream__compression_8cc.html#ac68341604d59aecc7b0f6ec0e0c4b517">More...</a><br /></td></tr>
<tr class="separator:ac68341604d59aecc7b0f6ec0e0c4b517"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfbded5387e1dcb21a22309f926e458c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structgrpc__stream__compression__context.html">grpc_stream_compression_context</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream__compression_8cc.html#adfbded5387e1dcb21a22309f926e458c">grpc_stream_compression_context_create</a> (<a class="el" href="stream__compression_8h.html#a59878a60ba0e081d173c76dba6feb861">grpc_stream_compression_method</a> method)</td></tr>
<tr class="memdesc:adfbded5387e1dcb21a22309f926e458c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a stream compression context.  <a href="stream__compression_8cc.html#adfbded5387e1dcb21a22309f926e458c">More...</a><br /></td></tr>
<tr class="separator:adfbded5387e1dcb21a22309f926e458c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95d85a8bd7bf7d3c14d60a1a9245ce86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream__compression_8cc.html#a95d85a8bd7bf7d3c14d60a1a9245ce86">grpc_stream_compression_context_destroy</a> (<a class="el" href="structgrpc__stream__compression__context.html">grpc_stream_compression_context</a> *ctx)</td></tr>
<tr class="memdesc:a95d85a8bd7bf7d3c14d60a1a9245ce86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys a stream compression context.  <a href="stream__compression_8cc.html#a95d85a8bd7bf7d3c14d60a1a9245ce86">More...</a><br /></td></tr>
<tr class="separator:a95d85a8bd7bf7d3c14d60a1a9245ce86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9204f0fd5996b06894e94363e1274542"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream__compression_8cc.html#a9204f0fd5996b06894e94363e1274542">grpc_stream_compression_method_parse</a> (<a class="el" href="structgrpc__slice.html">grpc_slice</a> value, bool is_compress, <a class="el" href="stream__compression_8h.html#a59878a60ba0e081d173c76dba6feb861">grpc_stream_compression_method</a> *method)</td></tr>
<tr class="memdesc:a9204f0fd5996b06894e94363e1274542"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse stream compression method based on algorithm name.  <a href="stream__compression_8cc.html#a9204f0fd5996b06894e94363e1274542">More...</a><br /></td></tr>
<tr class="separator:a9204f0fd5996b06894e94363e1274542"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae600b367a107933af40dae7776d6a9e4"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structgrpc__stream__compression__vtable.html">grpc_stream_compression_vtable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stream__compression_8cc.html#ae600b367a107933af40dae7776d6a9e4">grpc_stream_compression_identity_vtable</a></td></tr>
<tr class="separator:ae600b367a107933af40dae7776d6a9e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a72b660a8555db9a991f0e941d4e086aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72b660a8555db9a991f0e941d4e086aa">&#9670;&nbsp;</a></span>grpc_stream_compress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool grpc_stream_compress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgrpc__stream__compression__context.html">grpc_stream_compression_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgrpc__slice__buffer.html">grpc_slice_buffer</a> *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgrpc__slice__buffer.html">grpc_slice_buffer</a> *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>output_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_output_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stream__compression_8h.html#ad13e1b784100a2008a543736d0cd819f">grpc_stream_compression_flush</a>&#160;</td>
          <td class="paramname"><em>flush</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compress bytes provided in <em>in</em> with a given context, with an optional flush at the end of compression. </p>
<p>Emits at most <em>max_output_size</em> compressed bytes into <em>out</em>. If all the bytes in input buffer <em>in</em> are depleted and <em>flush</em> is not GRPC_STREAM_COMPRESSION_FLUSH_NONE, the corresponding flush method is executed. The total number of bytes emitted is outputted in <em>output_size</em>.</p>
<p>A SYNC flush indicates that the entire messages in <em>in</em> can be decompressed from <em>out</em>. A FINISH flush implies a SYNC flush, and that any further compression will not be dependent on the state of the current context and any previous compressed bytes. It allows corresponding decompression context to be dropped when reaching this boundary. </p>

</div>
</div>
<a id="adfbded5387e1dcb21a22309f926e458c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfbded5387e1dcb21a22309f926e458c">&#9670;&nbsp;</a></span>grpc_stream_compression_context_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structgrpc__stream__compression__context.html">grpc_stream_compression_context</a>* grpc_stream_compression_context_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stream__compression_8h.html#a59878a60ba0e081d173c76dba6feb861">grpc_stream_compression_method</a>&#160;</td>
          <td class="paramname"><em>method</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a stream compression context. </p>
<p><em>pending_bytes_buffer</em> is the input buffer for compression/decompression operations. <em>method</em> specifies whether the context is for compression or decompression. </p>

</div>
</div>
<a id="a95d85a8bd7bf7d3c14d60a1a9245ce86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95d85a8bd7bf7d3c14d60a1a9245ce86">&#9670;&nbsp;</a></span>grpc_stream_compression_context_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void grpc_stream_compression_context_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgrpc__stream__compression__context.html">grpc_stream_compression_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys a stream compression context. </p>

</div>
</div>
<a id="a9204f0fd5996b06894e94363e1274542"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9204f0fd5996b06894e94363e1274542">&#9670;&nbsp;</a></span>grpc_stream_compression_method_parse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int grpc_stream_compression_method_parse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgrpc__slice.html">grpc_slice</a>&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_compress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stream__compression_8h.html#a59878a60ba0e081d173c76dba6feb861">grpc_stream_compression_method</a> *&#160;</td>
          <td class="paramname"><em>method</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse stream compression method based on algorithm name. </p>

</div>
</div>
<a id="ac68341604d59aecc7b0f6ec0e0c4b517"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac68341604d59aecc7b0f6ec0e0c4b517">&#9670;&nbsp;</a></span>grpc_stream_decompress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool grpc_stream_decompress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgrpc__stream__compression__context.html">grpc_stream_compression_context</a> *&#160;</td>
          <td class="paramname"><em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgrpc__slice__buffer.html">grpc_slice_buffer</a> *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgrpc__slice__buffer.html">grpc_slice_buffer</a> *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>output_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_output_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>end_of_context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decompress bytes provided in <em>in</em> with a given context. </p>
<p>Emits at most <em>max_output_size</em> decompressed bytes into <em>out</em>. If decompression process reached the end of a gzip stream, <em>end_of_context</em> is set to true; otherwise it is set to false. The total number of bytes emitted is outputted in <em>output_size</em>. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae600b367a107933af40dae7776d6a9e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae600b367a107933af40dae7776d6a9e4">&#9670;&nbsp;</a></span>grpc_stream_compression_identity_vtable</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structgrpc__stream__compression__vtable.html">grpc_stream_compression_vtable</a> grpc_stream_compression_identity_vtable</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Oct 14 2020 14:34:16 for GRPC Core by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
