<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GRPC Core: src/core/tsi/alts/frame_protector/alts_crypter.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GRPC Core
   &#160;<span id="projectnumber">12.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_aebb8dcc11953d78e620bbef0b9e2183.html">core</a></li><li class="navelem"><a class="el" href="dir_99f60d2bb6231896bcd2887028065f74.html">tsi</a></li><li class="navelem"><a class="el" href="dir_4d2f87c9b5d40e0b1bb096b914a12d23.html">alts</a></li><li class="navelem"><a class="el" href="dir_b45183a3d4f25b78e476b6a0663a5381.html">frame_protector</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">alts_crypter.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="support_2port__platform_8h_source.html">grpc/support/port_platform.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="alts__crypter_8h_source.html">src/core/tsi/alts/frame_protector/alts_crypter.h</a>&quot;</code><br />
<code>#include &lt;<a class="el" href="string_8h_source.html">string.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="include_2grpc_2support_2alloc_8h_source.html">grpc/support/alloc.h</a>&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab20bcdee7141413aaa8ed05529425b7a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="impl_2codegen_2status_8h.html#a35ab2a68917eb836de84cb23253108eb">grpc_status_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="alts__crypter_8cc.html#ab20bcdee7141413aaa8ed05529425b7a">alts_crypter_process_in_place</a> (<a class="el" href="structalts__crypter.html">alts_crypter</a> *crypter, unsigned char *data, size_t data_allocated_size, size_t data_size, size_t *output_size, char **error_details)</td></tr>
<tr class="memdesc:ab20bcdee7141413aaa8ed05529425b7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method performs either a seal or an unseal operation depending on the <a class="el" href="structalts__crypter.html">alts_crypter</a> instance - crypter passed to the method.  <a href="alts__crypter_8cc.html#ab20bcdee7141413aaa8ed05529425b7a">More...</a><br /></td></tr>
<tr class="separator:ab20bcdee7141413aaa8ed05529425b7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb69425ff02cf4bdfa0832e736fc26b3"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="alts__crypter_8cc.html#acb69425ff02cf4bdfa0832e736fc26b3">alts_crypter_num_overhead_bytes</a> (const <a class="el" href="structalts__crypter.html">alts_crypter</a> *crypter)</td></tr>
<tr class="memdesc:acb69425ff02cf4bdfa0832e736fc26b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method gets the number of overhead bytes needed for sealing data that is the difference in size between the protected and raw data.  <a href="alts__crypter_8cc.html#acb69425ff02cf4bdfa0832e736fc26b3">More...</a><br /></td></tr>
<tr class="separator:acb69425ff02cf4bdfa0832e736fc26b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76dca56e5a3b14fff7cda8506100c4e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="alts__crypter_8cc.html#a76dca56e5a3b14fff7cda8506100c4e0">alts_crypter_destroy</a> (<a class="el" href="structalts__crypter.html">alts_crypter</a> *crypter)</td></tr>
<tr class="memdesc:a76dca56e5a3b14fff7cda8506100c4e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method destroys an <a class="el" href="structalts__crypter.html">alts_crypter</a> instance by de-allocating all of its occupied memory.  <a href="alts__crypter_8cc.html#a76dca56e5a3b14fff7cda8506100c4e0">More...</a><br /></td></tr>
<tr class="separator:a76dca56e5a3b14fff7cda8506100c4e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a76dca56e5a3b14fff7cda8506100c4e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76dca56e5a3b14fff7cda8506100c4e0">&#9670;&nbsp;</a></span>alts_crypter_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void alts_crypter_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structalts__crypter.html">alts_crypter</a> *&#160;</td>
          <td class="paramname"><em>crypter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method destroys an <a class="el" href="structalts__crypter.html">alts_crypter</a> instance by de-allocating all of its occupied memory. </p>
<p>A <a class="el" href="structgsec__aead__crypter.html">gsec_aead_crypter</a> instance passed in at <a class="el" href="structalts__crypter.html">alts_crypter</a> instance creation time will be destroyed in this method.</p>
<ul>
<li>crypter: an <a class="el" href="structalts__crypter.html">alts_crypter</a> instance. </li>
</ul>

</div>
</div>
<a id="acb69425ff02cf4bdfa0832e736fc26b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb69425ff02cf4bdfa0832e736fc26b3">&#9670;&nbsp;</a></span>alts_crypter_num_overhead_bytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t alts_crypter_num_overhead_bytes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structalts__crypter.html">alts_crypter</a> *&#160;</td>
          <td class="paramname"><em>crypter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method gets the number of overhead bytes needed for sealing data that is the difference in size between the protected and raw data. </p>
<p>The counter value used in a seal or unseal operation is locally maintained (not sent or received from the other peer) and therefore, will not be counted as part of overhead bytes.</p>
<ul>
<li>crypter: an <a class="el" href="structalts__crypter.html">alts_crypter</a> instance.</li>
</ul>
<p>On success, the method returns the number of overhead bytes. Otherwise, it returns zero. </p>

</div>
</div>
<a id="ab20bcdee7141413aaa8ed05529425b7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab20bcdee7141413aaa8ed05529425b7a">&#9670;&nbsp;</a></span>alts_crypter_process_in_place()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="impl_2codegen_2status_8h.html#a35ab2a68917eb836de84cb23253108eb">grpc_status_code</a> alts_crypter_process_in_place </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structalts__crypter.html">alts_crypter</a> *&#160;</td>
          <td class="paramname"><em>crypter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>data_allocated_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>data_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>output_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>error_details</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method performs either a seal or an unseal operation depending on the <a class="el" href="structalts__crypter.html">alts_crypter</a> instance - crypter passed to the method. </p>
<p>If the crypter is an instance implementing a seal operation, the method will perform a seal operation. That is, it seals raw data and stores the result in-place, and the memory allocated for data must be at least data_length + <a class="el" href="alts__crypter_8h.html#acb69425ff02cf4bdfa0832e736fc26b3" title="This method gets the number of overhead bytes needed for sealing data that is the difference in size ...">alts_crypter_num_overhead_bytes()</a>. If the crypter is an instance implementing an unseal operation, the method will perform an unseal operation. That is, it unseals protected data and stores the result in-place. The size of unsealed data will be data_length - <a class="el" href="alts__crypter_8h.html#acb69425ff02cf4bdfa0832e736fc26b3" title="This method gets the number of overhead bytes needed for sealing data that is the difference in size ...">alts_crypter_num_overhead_bytes()</a>. Integrity tag will be verified during the unseal operation, and if verification fails, the data will be wiped. The counters used in both seal and unseal operations are managed internally.</p>
<ul>
<li>crypter: an <a class="el" href="structalts__crypter.html">alts_crypter</a> instance.</li>
<li>data: if the method performs a seal operation, the data represents raw data that needs to be sealed. It also plays the role of buffer to hold the protected data as a result of seal. If the method performs an unseal operation, the data represents protected data that needs to be unsealed. It also plays the role of buffer to hold raw data as a result of unseal.</li>
<li>data_allocated_size: the size of data buffer. The parameter is used to check whether the result of either seal or unseal can be safely written to the data buffer.</li>
<li>data_size: if the method performs a seal operation, data_size represents the size of raw data that needs to be sealed, and if the method performs an unseal operation, data_size represents the size of protected data that needs to be unsealed.</li>
<li>output_size: size of data written to the data buffer after a seal or an unseal operation.</li>
<li>error_details: a buffer containing an error message if the method does not function correctly. It is legal to pass nullptr into error_details and otherwise, the parameter should be freed with gpr_free.</li>
</ul>
<p>On success, the method returns GRPC_STATUS_OK. Otherwise, it returns an error status code along with its details specified in error_details (if error_details is not nullptr). </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Oct 14 2020 14:34:16 for GRPC Core by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
