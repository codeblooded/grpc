<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GRPC C++: src/core/lib/surface/server.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GRPC C++
   &#160;<span id="projectnumber">1.33.0-dev</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_aebb8dcc11953d78e620bbef0b9e2183.html">core</a></li><li class="navelem"><a class="el" href="dir_9ace0bdff5d34e41ad08105dc041a781.html">lib</a></li><li class="navelem"><a class="el" href="dir_03c2cdf77e9c9452b098aa3012855817.html">surface</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">server.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="support_2port__platform_8h_source.html">grpc/support/port_platform.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="src_2core_2lib_2surface_2server_8h_source.html">src/core/lib/surface/server.h</a>&quot;</code><br />
<code>#include &lt;limits.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;<a class="el" href="string_8h_source.html">string.h</a>&gt;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;atomic&gt;</code><br />
<code>#include &lt;iterator&gt;</code><br />
<code>#include &lt;list&gt;</code><br />
<code>#include &lt;queue&gt;</code><br />
<code>#include &lt;utility&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &quot;absl/types/optional.h&quot;</code><br />
<code>#include &lt;<a class="el" href="include_2grpc_2support_2alloc_8h_source.html">grpc/support/alloc.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="support_2log_8h_source.html">grpc/support/log.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="string__util_8h_source.html">grpc/support/string_util.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="channel__args_8h_source.html">src/core/lib/channel/channel_args.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="channelz_8h_source.html">src/core/lib/channel/channelz.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="connected__channel_8h_source.html">src/core/lib/channel/connected_channel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="stats_8h_source.html">src/core/lib/debug/stats.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="spinlock_8h_source.html">src/core/lib/gpr/spinlock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mpscq_8h_source.html">src/core/lib/gprpp/mpscq.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="executor_8h_source.html">src/core/lib/iomgr/executor.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="iomgr_8h_source.html">src/core/lib/iomgr/iomgr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="slice__internal_8h_source.html">src/core/lib/slice/slice_internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="api__trace_8h_source.html">src/core/lib/surface/api_trace.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="src_2core_2lib_2surface_2call_8h_source.html">src/core/lib/surface/call.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="src_2core_2lib_2surface_2channel_8h_source.html">src/core/lib/surface/channel.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="src_2core_2lib_2surface_2completion__queue_8h_source.html">src/core/lib/surface/completion_queue.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="init_8h_source.html">src/core/lib/surface/init.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="metadata_8h_source.html">src/core/lib/transport/metadata.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="static__metadata_8h_source.html">src/core/lib/transport/static_metadata.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgrpc__core_1_1_server_1_1_requested_call.html">grpc_core::Server::RequestedCall</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgrpc__core_1_1_server_1_1_registered_method.html">grpc_core::Server::RegisteredMethod</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgrpc__core_1_1_server_1_1_request_matcher_interface.html">grpc_core::Server::RequestMatcherInterface</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgrpc__core_1_1_server_1_1_real_request_matcher.html">grpc_core::Server::RealRequestMatcher</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgrpc__core_1_1_server_1_1_allocating_request_matcher_base.html">grpc_core::Server::AllocatingRequestMatcherBase</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgrpc__core_1_1_server_1_1_allocating_request_matcher_batch.html">grpc_core::Server::AllocatingRequestMatcherBatch</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgrpc__core_1_1_server_1_1_allocating_request_matcher_registered.html">grpc_core::Server::AllocatingRequestMatcherRegistered</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgrpc__core_1_1_server_1_1_channel_data_1_1_connectivity_watcher.html">grpc_core::Server::ChannelData::ConnectivityWatcher</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacegrpc__core"><td class="memItemLeft" align="right" valign="top"> &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegrpc__core.html">grpc_core</a></td></tr>
<tr class="memdesc:namespacegrpc__core"><td class="mdescLeft">&#160;</td><td class="mdescRight">Round Robin Policy. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5c84795eb2ab5c1c03c6ba1212f07501"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structgrpc__server.html">grpc_server</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cc.html#a5c84795eb2ab5c1c03c6ba1212f07501">grpc_server_create</a> (const <a class="el" href="structgrpc__channel__args.html">grpc_channel_args</a> *args, void *reserved)</td></tr>
<tr class="memdesc:a5c84795eb2ab5c1c03c6ba1212f07501"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a server.  <a href="server_8cc.html#a5c84795eb2ab5c1c03c6ba1212f07501">More...</a><br /></td></tr>
<tr class="separator:a5c84795eb2ab5c1c03c6ba1212f07501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacb47ff7ce0afa0db4c830449baff39a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cc.html#aacb47ff7ce0afa0db4c830449baff39a">grpc_server_register_completion_queue</a> (<a class="el" href="structgrpc__server.html">grpc_server</a> *server, <a class="el" href="structgrpc__completion__queue.html">grpc_completion_queue</a> *cq, void *reserved)</td></tr>
<tr class="memdesc:aacb47ff7ce0afa0db4c830449baff39a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a completion queue with the server.  <a href="server_8cc.html#aacb47ff7ce0afa0db4c830449baff39a">More...</a><br /></td></tr>
<tr class="separator:aacb47ff7ce0afa0db4c830449baff39a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a700dc62dbff4374b8fe344d09c27af37"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cc.html#a700dc62dbff4374b8fe344d09c27af37">grpc_server_register_method</a> (<a class="el" href="structgrpc__server.html">grpc_server</a> *server, const char *method, const char *host, <a class="el" href="grpc_8h.html#aab04022748000f50c2590230f985acbc">grpc_server_register_method_payload_handling</a> payload_handling, uint32_t flags)</td></tr>
<tr class="memdesc:a700dc62dbff4374b8fe344d09c27af37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a method in the server.  <a href="server_8cc.html#a700dc62dbff4374b8fe344d09c27af37">More...</a><br /></td></tr>
<tr class="separator:a700dc62dbff4374b8fe344d09c27af37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5010d26419e14f5a9ab2fa86a4f7d1e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cc.html#ac5010d26419e14f5a9ab2fa86a4f7d1e">grpc_server_start</a> (<a class="el" href="structgrpc__server.html">grpc_server</a> *server)</td></tr>
<tr class="memdesc:ac5010d26419e14f5a9ab2fa86a4f7d1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a server - tells all listeners to start listening.  <a href="server_8cc.html#ac5010d26419e14f5a9ab2fa86a4f7d1e">More...</a><br /></td></tr>
<tr class="separator:ac5010d26419e14f5a9ab2fa86a4f7d1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56fffa23c1c4bab9a469e2ac607b6db7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cc.html#a56fffa23c1c4bab9a469e2ac607b6db7">grpc_server_shutdown_and_notify</a> (<a class="el" href="structgrpc__server.html">grpc_server</a> *server, <a class="el" href="structgrpc__completion__queue.html">grpc_completion_queue</a> *cq, void *tag)</td></tr>
<tr class="memdesc:a56fffa23c1c4bab9a469e2ac607b6db7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begin shutting down a server.  <a href="server_8cc.html#a56fffa23c1c4bab9a469e2ac607b6db7">More...</a><br /></td></tr>
<tr class="separator:a56fffa23c1c4bab9a469e2ac607b6db7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5c1e4f3e270a7afbc39403fff0dc803"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cc.html#ac5c1e4f3e270a7afbc39403fff0dc803">grpc_server_cancel_all_calls</a> (<a class="el" href="structgrpc__server.html">grpc_server</a> *server)</td></tr>
<tr class="memdesc:ac5c1e4f3e270a7afbc39403fff0dc803"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel all in-progress calls.  <a href="server_8cc.html#ac5c1e4f3e270a7afbc39403fff0dc803">More...</a><br /></td></tr>
<tr class="separator:ac5c1e4f3e270a7afbc39403fff0dc803"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34cba45da7c32a21ac82305d670e4620"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cc.html#a34cba45da7c32a21ac82305d670e4620">grpc_server_destroy</a> (<a class="el" href="structgrpc__server.html">grpc_server</a> *server)</td></tr>
<tr class="memdesc:a34cba45da7c32a21ac82305d670e4620"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy a server.  <a href="server_8cc.html#a34cba45da7c32a21ac82305d670e4620">More...</a><br /></td></tr>
<tr class="separator:a34cba45da7c32a21ac82305d670e4620"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee8b72b6667396fdc20953eea60539b3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="grpc__types_8h.html#a0d5a8bdd6d53d209cacea4b6fa5d785b">grpc_call_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cc.html#aee8b72b6667396fdc20953eea60539b3">grpc_server_request_call</a> (<a class="el" href="structgrpc__server.html">grpc_server</a> *server, <a class="el" href="structgrpc__call.html">grpc_call</a> **call, <a class="el" href="structgrpc__call__details.html">grpc_call_details</a> *<a class="el" href="lame__client_8cc.html#a0a1af340b3ac90b3b375efd9d200bd21">details</a>, <a class="el" href="structgrpc__metadata__array.html">grpc_metadata_array</a> *request_metadata, <a class="el" href="structgrpc__completion__queue.html">grpc_completion_queue</a> *cq_bound_to_call, <a class="el" href="structgrpc__completion__queue.html">grpc_completion_queue</a> *cq_for_notification, void *tag)</td></tr>
<tr class="memdesc:aee8b72b6667396fdc20953eea60539b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request notification of a new call.  <a href="server_8cc.html#aee8b72b6667396fdc20953eea60539b3">More...</a><br /></td></tr>
<tr class="separator:aee8b72b6667396fdc20953eea60539b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd4794983567f28cd62defbb37e06cea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="grpc__types_8h.html#a0d5a8bdd6d53d209cacea4b6fa5d785b">grpc_call_error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="server_8cc.html#afd4794983567f28cd62defbb37e06cea">grpc_server_request_registered_call</a> (<a class="el" href="structgrpc__server.html">grpc_server</a> *server, void *rmp, <a class="el" href="structgrpc__call.html">grpc_call</a> **call, <a class="el" href="structgpr__timespec.html">gpr_timespec</a> *deadline, <a class="el" href="structgrpc__metadata__array.html">grpc_metadata_array</a> *request_metadata, <a class="el" href="structgrpc__byte__buffer.html">grpc_byte_buffer</a> **optional_payload, <a class="el" href="structgrpc__completion__queue.html">grpc_completion_queue</a> *cq_bound_to_call, <a class="el" href="structgrpc__completion__queue.html">grpc_completion_queue</a> *cq_for_notification, void *tag_new)</td></tr>
<tr class="memdesc:afd4794983567f28cd62defbb37e06cea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request notification of a new pre-registered call.  <a href="server_8cc.html#afd4794983567f28cd62defbb37e06cea">More...</a><br /></td></tr>
<tr class="separator:afd4794983567f28cd62defbb37e06cea"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a92690fabf53b303cf9d475f5da78d2d8"><td class="memItemLeft" align="right" valign="top">TraceFlag&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegrpc__core.html#a92690fabf53b303cf9d475f5da78d2d8">grpc_core::grpc_server_channel_trace</a> (false, &quot;server_channel&quot;)</td></tr>
<tr class="separator:a92690fabf53b303cf9d475f5da78d2d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac5c1e4f3e270a7afbc39403fff0dc803"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5c1e4f3e270a7afbc39403fff0dc803">&#9670;&nbsp;</a></span>grpc_server_cancel_all_calls()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void grpc_server_cancel_all_calls </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgrpc__server.html">grpc_server</a> *&#160;</td>
          <td class="paramname"><em>server</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel all in-progress calls. </p>
<p>Only usable after shutdown. </p>

</div>
</div>
<a id="a5c84795eb2ab5c1c03c6ba1212f07501"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c84795eb2ab5c1c03c6ba1212f07501">&#9670;&nbsp;</a></span>grpc_server_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structgrpc__server.html">grpc_server</a>* grpc_server_create </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structgrpc__channel__args.html">grpc_channel_args</a> *&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>reserved</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a server. </p>
<p>Additional configuration for each incoming channel can be specified with args. If no additional configuration is needed, args can be NULL. The user data in 'args' need only live through the invocation of this function. However, if any args of the 'pointer' type are passed, then the referenced vtable must be maintained by the caller until grpc_server_destroy terminates. See <a class="el" href="structgrpc__channel__args.html" title="An array of arguments that can be passed around.">grpc_channel_args</a> definition for more on this. </p>

</div>
</div>
<a id="a34cba45da7c32a21ac82305d670e4620"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34cba45da7c32a21ac82305d670e4620">&#9670;&nbsp;</a></span>grpc_server_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void grpc_server_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgrpc__server.html">grpc_server</a> *&#160;</td>
          <td class="paramname"><em>server</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy a server. </p>
<p>Shutdown must have completed beforehand (i.e. all tags generated by grpc_server_shutdown_and_notify must have been received, and at least one call to grpc_server_shutdown_and_notify must have been made). </p>

</div>
</div>
<a id="aacb47ff7ce0afa0db4c830449baff39a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacb47ff7ce0afa0db4c830449baff39a">&#9670;&nbsp;</a></span>grpc_server_register_completion_queue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void grpc_server_register_completion_queue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgrpc__server.html">grpc_server</a> *&#160;</td>
          <td class="paramname"><em>server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgrpc__completion__queue.html">grpc_completion_queue</a> *&#160;</td>
          <td class="paramname"><em>cq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>reserved</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a completion queue with the server. </p>
<p>Must be done for any notification completion queue that is passed to grpc_server_request_*_call and to grpc_server_shutdown_and_notify. Must be performed prior to grpc_server_start. </p>

</div>
</div>
<a id="a700dc62dbff4374b8fe344d09c27af37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a700dc62dbff4374b8fe344d09c27af37">&#9670;&nbsp;</a></span>grpc_server_register_method()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* grpc_server_register_method </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgrpc__server.html">grpc_server</a> *&#160;</td>
          <td class="paramname"><em>server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="grpc_8h.html#aab04022748000f50c2590230f985acbc">grpc_server_register_method_payload_handling</a>&#160;</td>
          <td class="paramname"><em>payload_handling</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a method in the server. </p>
<p>Methods to this (host, method) pair will not be reported by grpc_server_request_call, but instead be reported by grpc_server_request_registered_call when passed the appropriate registered_method (as returned by this function). Must be called before grpc_server_start. Returns NULL on failure. </p>

</div>
</div>
<a id="aee8b72b6667396fdc20953eea60539b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee8b72b6667396fdc20953eea60539b3">&#9670;&nbsp;</a></span>grpc_server_request_call()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="grpc__types_8h.html#a0d5a8bdd6d53d209cacea4b6fa5d785b">grpc_call_error</a> grpc_server_request_call </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgrpc__server.html">grpc_server</a> *&#160;</td>
          <td class="paramname"><em>server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgrpc__call.html">grpc_call</a> **&#160;</td>
          <td class="paramname"><em>call</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgrpc__call__details.html">grpc_call_details</a> *&#160;</td>
          <td class="paramname"><em>details</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgrpc__metadata__array.html">grpc_metadata_array</a> *&#160;</td>
          <td class="paramname"><em>request_metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgrpc__completion__queue.html">grpc_completion_queue</a> *&#160;</td>
          <td class="paramname"><em>cq_bound_to_call</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgrpc__completion__queue.html">grpc_completion_queue</a> *&#160;</td>
          <td class="paramname"><em>cq_for_notification</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>tag_new</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request notification of a new call. </p>
<p>Once a call is received, a notification tagged with <em>tag_new</em> is added to <em>cq_for_notification</em>. <em>call</em>, <em>details</em> and <em>request_metadata</em> are updated with the appropriate call information. <em>cq_bound_to_call</em> is bound to <em>call</em>, and batch operation notifications for that call will be posted to <em>cq_bound_to_call</em>. Note that <em>cq_for_notification</em> must have been registered to the server via <em>grpc_server_register_completion_queue</em>. </p>

</div>
</div>
<a id="afd4794983567f28cd62defbb37e06cea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd4794983567f28cd62defbb37e06cea">&#9670;&nbsp;</a></span>grpc_server_request_registered_call()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="grpc__types_8h.html#a0d5a8bdd6d53d209cacea4b6fa5d785b">grpc_call_error</a> grpc_server_request_registered_call </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgrpc__server.html">grpc_server</a> *&#160;</td>
          <td class="paramname"><em>server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>registered_method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgrpc__call.html">grpc_call</a> **&#160;</td>
          <td class="paramname"><em>call</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgpr__timespec.html">gpr_timespec</a> *&#160;</td>
          <td class="paramname"><em>deadline</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgrpc__metadata__array.html">grpc_metadata_array</a> *&#160;</td>
          <td class="paramname"><em>request_metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgrpc__byte__buffer.html">grpc_byte_buffer</a> **&#160;</td>
          <td class="paramname"><em>optional_payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgrpc__completion__queue.html">grpc_completion_queue</a> *&#160;</td>
          <td class="paramname"><em>cq_bound_to_call</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgrpc__completion__queue.html">grpc_completion_queue</a> *&#160;</td>
          <td class="paramname"><em>cq_for_notification</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>tag_new</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request notification of a new pre-registered call. </p>
<p>'cq_for_notification' must have been registered to the server via grpc_server_register_completion_queue. </p>

</div>
</div>
<a id="a56fffa23c1c4bab9a469e2ac607b6db7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56fffa23c1c4bab9a469e2ac607b6db7">&#9670;&nbsp;</a></span>grpc_server_shutdown_and_notify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void grpc_server_shutdown_and_notify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgrpc__server.html">grpc_server</a> *&#160;</td>
          <td class="paramname"><em>server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structgrpc__completion__queue.html">grpc_completion_queue</a> *&#160;</td>
          <td class="paramname"><em>cq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Begin shutting down a server. </p>
<p>After completion, no new calls or connections will be admitted. Existing calls will be allowed to complete. Send a GRPC_OP_COMPLETE event when there are no more calls being serviced. Shutdown is idempotent, and all tags will be notified at once if multiple grpc_server_shutdown_and_notify calls are made. 'cq' must have been registered to this server via grpc_server_register_completion_queue. </p>

</div>
</div>
<a id="ac5010d26419e14f5a9ab2fa86a4f7d1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5010d26419e14f5a9ab2fa86a4f7d1e">&#9670;&nbsp;</a></span>grpc_server_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void grpc_server_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structgrpc__server.html">grpc_server</a> *&#160;</td>
          <td class="paramname"><em>server</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start a server - tells all listeners to start listening. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a8636e62cd9873c19e2e780b2a1cf284f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8636e62cd9873c19e2e780b2a1cf284f">&#9670;&nbsp;</a></span>closure</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structgrpc__closure.html">grpc_closure</a> closure</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1e7ff4bf9ef9d6d18b933933037b0216"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e7ff4bf9ef9d6d18b933933037b0216">&#9670;&nbsp;</a></span>slice</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structgrpc__slice.html">grpc_slice</a> slice</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Oct 14 2020 14:34:22 for GRPC C++ by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>
